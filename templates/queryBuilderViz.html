<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Graph Visualization</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css">
    <style>
        #graph {
            width: 100%;
            height: 800px;
            border: 1px solid lightgray;
        }
    </style>
</head>
<body>
<div id="sidebar">
    <!-- Hier kannst du Elemente platzieren, die du ziehen kannst -->
</div>
<div id="graph"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
<script>
    function viz_graph() {
        fetch('/query_builder_graph_vis')
            .then(response => response.json())
            .then(data => {
                console.log(data);
                const container = document.getElementById('graph'); // Hier wird das richtige Element verwendet
                const options = {
                    physics: {
                        adaptiveTimestep: true,
                        barnesHut: {
                            gravitationalConstant: -7000,
                            springConstant: 0.04,
                            springLength: 100,
                        },
                        timestep: 0.3
                    },
                    layout: {
                        improvedLayout: false
                    },
                };
                const nodesDataset = new vis.DataSet(data.nodes)
                const edgesDataset = new vis.DataSet(data.edges)
                let network = new vis.Network(container, {nodes: nodesDataset, edges: edgesDataset}, options);
            })
            .catch(error => console.error('Error fetching data:', error));
    }

    viz_graph();
</script>
</body>
</html>
